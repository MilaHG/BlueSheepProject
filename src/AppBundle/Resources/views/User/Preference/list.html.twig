{% extends "::layout.html.twig" %}
{% block title %}Blue Sheep{% endblock %}

{% block content %}
    {% include 'nav.html.twig'  %}
    
{% block page_title %} <h1>Hobbies</h1>  {% endblock %}

{# bloc displaying messages flash with bootstrap style #}
    {% for label, flashes in app.session.flashbag.all %}
        {% for flash in flashes %} {#on re-boucle pour chacun des messages à l'intérieur des types de messages#}
            {% if label == 'error' %} {% set label = 'danger' %} {% endif %}
            <div class='alert alert-{{ label }}'>
                {{ flash }}
            </div>
        {% endfor %}
    {% endfor %}
    
    {#{{ dump(preferences) }}#}
    
    <div class="well well-sm">
        <p><a href="{{ path('app_user_preference_add') }}">Add a hobby</a></p>
    </div>
    
    <div class="row">
    {% for preference in preferences %}
        <div class="col-sm-4">
            <div class="panel panel-success">
                <div class="panel-heading">
                    <h3 class="panel-title">{{ preference.category.name }}</h3>
                </div>
                <div class="panel-body">
                    <p>{{ preference.category.photo }}</p>
                    <p>{{ preference.note }}</p>
                    <p>
                        <a href='{{ path('app_user_preference_edit', {"id": preference.id}) }}' class='btn btn-warning'>
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true" title="Modifier"></span>
                        </a>
                        <a href='{{ path('app_user_preference_delete', {"id":preference.id}) }}' class='btn btn-danger'>
                        <span class="glyphicon glyphicon-remove" aria-hidden="true" title="Supprimer"></span>
                        </a>
                        <a></a>
                    </p>
                </div>
            </div>
        </div>
    {% endfor %}
    </div>

{% endblock %}
